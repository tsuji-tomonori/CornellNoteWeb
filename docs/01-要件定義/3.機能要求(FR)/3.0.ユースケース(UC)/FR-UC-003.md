# UC-03 コーネル式ノート編集

- **主アクター**：A1
- **トリガー**：ノートを開く／編集する
- **事前条件**：ログイン済み、対象ノートが存在する
- **成功時事後条件**：編集内容が保存される
- **失敗時事後条件**：保存できなかった編集は未確定（再試行可能）

### 基本フロー
1. ユーザーはノート一覧から対象ノートを開く。
2. システムは Cornell レイアウト（Cue／Notes／Summary）を表示する。
3. ユーザーは各領域にテキストを入力・編集する。
4. システムは編集を自動保存する（または明示保存）。
5. システムは保存状態（保存済み／未保存／エラー）を表示する。

### 代替フロー
- **A01: 明示保存**
  4 の代わりに、ユーザーが「保存」操作を行ったときに保存する。
- **A02: コーネル構造の補助入力（将来）**
  ユーザーが Notes の一部を選択して「Cue に要約」等を実行した場合、システムは Cue に項目を生成する（任意機能）。

### 例外
- **E01: ネットワーク断**
  4 で通信できない場合、システムはローカルに編集中状態を保持し、復旧後に再送を試みる（実装方針による）。
- **E02: 同時編集衝突**
  同一ノートを複数端末で編集して衝突した場合、システムは衝突を通知し、解決手段（後勝ち／差分マージ／履歴から復元等）を提供する（MVP では「後勝ち」でも可）。
