# UC-01 サインアップ／ログイン

- **主アクター**：A1（ノート作成者）
- **トリガー**：ユーザーが「ログイン」または「新規登録」を選択する
- **事前条件**：なし
- **成功時事後条件**：ユーザーのセッションが確立され、個人領域へ遷移できる
- **失敗時事後条件**：未認証のまま。個人領域は閲覧不可

### 基本フロー
1. ユーザーはログイン画面を表示する。
2. ユーザーはメールアドレスとパスワードを入力し「ログイン」を押す。
3. システムは認証情報を検証する。
4. システムはセッションを開始し、ノート一覧へ遷移する。

### 代替フロー
- **A01: 新規登録**
  1. ユーザーは「新規登録」を選択する。
  2. ユーザーはメール、パスワードを入力し登録する。
  3. システムはユーザーを作成し、ログイン状態にする。
- **A02: OAuth ログイン**
  1. ユーザーは「Google でログイン」を選択する。
  2. システムは外部認証プロバイダへリダイレクトする。
  3. 外部認証プロバイダは認可結果を返す。
  4. システムはユーザーを特定しログイン状態にする。

### 例外
- **E01: 認証失敗**
  3 で失敗した場合、システムはエラーメッセージを表示し、2 に戻る。
- **E02: 外部認証エラー**
  A02 で外部認証が失敗した場合、システムは失敗理由（可能な範囲）を表示しログイン画面へ戻る。
